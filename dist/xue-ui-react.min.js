/*!
  * xue-ui-react v1.0.0
  * (c) 2020 Huaihuan Xue
  * @license MIT
  */
/*!
  * xue-ui-react v1.0.0
  * (c) 2020 Huaihuan Xue
  * @license MIT
  */
var e,t;e=this,t=function(e,t,o,n){"use strict";var r="default"in t?t.default:t;function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,n=n&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;var c,l={centerMode:!1,fgcolor:"",size:"md"},s={centerMode:o.bool,fgcolor:o.string,size:o.string},a=(c="Number",function(e){return Object.prototype.toString.call(e).slice(8,-1)===""+c}),p=function(e){var t=document.documentElement||document.body.parentNode;return function(){return a(t[e])?t[e]:document.body[e]}},u=p("scrollTop"),d=p("scrollLeft"),f=n.div.attrs((function(){return{className:"ripple"}}))`
  display: inline-block;
  position: relative;

  .${"ripple-list"} {
    overflow: hidden;
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    pointer-events: none;
    ${function(e){return e.fgcolor?`color: ${e.fgcolor};`:""}}
  }
`,h=n.div.attrs((function(){return{className:"ripple-item"}}))`
  position: absolute;
  left: 0;
  top: 0;
  border-radius: 50%;
  ${function(e){return e.fgcolor?`background-color: ${e.fgcolor};`:"background-color: currentcolor;"}}
  opacity: 0.5;
  transform: scale(0);
  will-change: height, transform, width;

  &.${"ripple-effect"} {
    animation: ${"ripple-effect"} 1000ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  @keyframes ${"ripple-effect"} {
    100% {
      transform: scale(1);
      opacity: 0;
    }
  }
`,m=["xxs","xs","sm","md","lg","xl","xxl"],v=function(e){function t(t){var o=this;e.call(this,t),i(this,"getUuid",(function(){return`ripple-item-${o.now}-${o.seed++}`})),i(this,"getRef",(function(e){o.rippleNode=e})),i(this,"ripple",(function(e,t){var n=o.getPoint(e),r=o.props,i=r.centerMode,c=r.size,l=u(),s=d(),a=n.clientX||n.pageX-s,p=n.clientY||n.pageY-l,f=o.rippleNode.parentNode,h=f.offsetWidth,v=f.offsetHeight,y=Math.max(h,v),b=f.getBoundingClientRect(),g=0,x=0,w=function(e){var t;switch(e=e&&m.includes(e)?e:"md"){case"xxs":t=.5;break;case"xs":t=.75;break;case"sm":t=1;break;case"md":t=2;break;case"lg":t=3;break;case"xl":t=4;break;case"xxl":default:t=5}return t}(c);i?(g=(h-y*w)/2,x=(v-y*w)/2):(g=a-b.left-y*w/2,x=p-b.top-y*w/2),function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e.style[o]=t[o])}(t,{width:y*w+"px",height:y*w+"px",top:x+"px",left:g+"px"}),function(e,t){var o=t.split(/\s+/);for(var n of o)e.classList.add(n)}(t,"ripple-effect")})),i(this,"handleTouchStart",(function(e){var t=[].concat(o.state.children);t.push(o.getUuid()),o.setState((function(){return{children:t}}),(function(){var n=t.length-1,r=o.rippleNode.querySelectorAll(".ripple-item");r[n]&&o.ripple(e,r[n])}))})),i(this,"handleAnimationEnd",(function(e){var t=o.state.children.filter((function(t){return e!==t}));o.setState({children:t})})),this.touchEvent="ontouchstart"in document?{touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",mobile:!0}:{touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",mobile:!1},this.now=Date.now()||+new Date,this.seed=0,this.state={children:[]}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){this.rippleNode&&this.rippleNode.parentNode.addEventListener(this.touchEvent.touchstart,this.handleTouchStart)},t.prototype.componentWillUnmount=function(){this.rippleNode&&this.rippleNode.parentNode.removeEventListener(this.touchEvent.touchstart,this.handleTouchStart),this.rippleNode=null,this.touchEvent=null},t.prototype.getPoint=function(e){return e=e||window.event,this.touchEvent.mobile?e.changedTouches[0]:e},t.prototype.render=function(){var e=this,t=this.props,o=t.children,n=(t.centerMode,function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(o[n]=e[n]);return o}(t,["children","centerMode"]));return r.createElement(f,n,r.createElement("div",{className:"ripple-list",ref:this.getRef},this.state.children.map((function(t){return r.createElement(h,{key:t,onAnimationEnd:function(){return e.handleAnimationEnd(t)}})}))),o)},t}(t.Component);v.defaultProps=l,v.propTypes=s,e.Ripple=v,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("styled-components")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","styled-components"],t):t((e=e||self).XueUIReact={},e.React,e.PropTypes,e.styled);